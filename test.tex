\input{common.tex}
\DocumentStyle{main_language=english}
\Preamble{scrbook, font-TexGyre, math, phys, minted-default, koma-misc}

\ExplSyntaxOn
\NewDocumentCommand \Example { O{displaymath} v }
  {
    \texttt{#2}
    \quad
    \begin{#1}
      \tl_rescan:nn {}{#2}
    \end{#1}
  }
\ExplSyntaxOff

\usepackage{blindtext}
\usepackage{lipsum}

\title{\LaTeXe\ cheat sheet}
\author{Someone}
\date{}

\newif\iftesting
\testingtrue
%\testingfalse


\begin{document}

\maketitle

\section{Math}
\lipsum

\subsection{Proofs}

\begin{itemize}
	\item \verb|\qed|
	\item \verb|\begin{proof} \qedhere \end{proof}|
\end{itemize}

\subsection{Vector Calculus}
Bold vectors usually look better, \verb|\vc| is a shorthand:
\begin{table}[H]
  \centering
  \begin{tabular}{ll}
    \toprule
    \verb|\vc{a}| & $\vc{a}$ \\
    \verb|\Grad{f}| & $\Grad{f}$ \\
    \verb|\Div{\vc A}| & $\Div{\vc A}$ \\
    \verb|\Curl{\vc A}| & $\Curl{\vc A}$ \\
    \verb|\Laplacian{\vc{A}^2}| & $\Laplacian{\vc{A}^2}$ \\
    \bottomrule
  \end{tabular}
\end{table}


\NewDocumentCommand \vectorshowcase {} {%
  $\,\vec{a}\,\vec{A}\dvec{a}\ddvec{A}$\\
  $\vec{a}\,\vec{b}\,\vec{c}\,\vec{d}\,\vec{e}\,\vec{f}\,\vec{g}\,\vec{h}\,\vec{\imath}\,\vec{\jmath}\,\vec{k}\,\vec{l}\,\vec{m}\,\vec{n}\,\vec{o}\,\vec{p}\,\vec{q}\,\vec{r}\,\vec{s}\,\vec{t}\,\vec{u}\,\vec{v}\,\vec{w}\,\vec{x}\,\vec{y}\,\vec{z}$\\
  $\vec{A}\,\vec{B}\,\vec{C}\,\vec{D}\,\vec{E}\,\vec{F}\,\vec{G}\,\vec{H}\,\vec{I}\,\vec{J}\,\vec{K}\,\vec{L}\,\vec{M}\,\vec{N}\,\vec{O}\,\vec{P}\,\vec{Q}\,\vec{R}\,\vec{S}\,\vec{T}\,\vec{U}\,\vec{V}\,\vec{W}\,\vec{X}\,\vec{Y}\,\vec{Z}$
}

\MathStyle{vecdisplay=std}
\vectorshowcase

\MathStyle{vecdisplay=xvec}
\vectorshowcase

\MathStyle{vecdisplay=bm}
\vectorshowcase


\subsection{Derivatives}

\paragraph{Total, partial and functional derivatives}
\begin{itemize}
  \item \verb|\tderiv{f}{x}| \begin{displaymath} \tderiv{f}{x} \end{displaymath}
  \item \verb|\pderiv{f}{x}| \begin{displaymath} \pderiv{f}{x} \end{displaymath}
  \item \verb|\fderiv{A(\vecb{r})}{\del_i\del_j}| \begin{displaymath} \fderiv{A(\vec{r})}{(\del_i\del_j A(\vec{r}))} \end{displaymath}
\end{itemize}

\paragraph{Advanced variable/exponent specification}
\begin{itemize}
  \item \verb|\pderiv{f}{x^2,y,z^2}| \begin{displaymath} \pderiv{f}{x^2,y,z^2} \end{displaymath}
  \item \verb|\pderiv{f}[n+m+1]{x^n,y,z^m}| \begin{displaymath} \pderiv{f}[n+m+1]{x^n,y,z^m} \end{displaymath}
  \item \verb|\pderiv{f}{x^n,y,z^m}| \begin{displaymath} \pderiv{f}[n+m+1]{x^n,y,z^m} \end{displaymath}
\end{itemize}

\paragraph{Shorthands for wrapping in parenthesis or brackets}
\begin{itemize}
  \item \verb|\ppderiv{f}{x^2,y,z^2}| \begin{displaymath} \ppderiv{f}{x^2,y,z^2} \end{displaymath}
  \item \verb|\bpderiv{f}[n+m+1]{x^n,y,z^m}| \begin{displaymath} \bpderiv{f}[n+m+1]{x^n,y,z^m} \end{displaymath}
\end{itemize}

\iftesting
\paragraph{Internal commands, for testing}
\begin{itemize}
  \item \verb|\deriv{\dif}{}{x}| $\deriv{\dif}{}{x}$
  \item \verb|\deriv{\dif}{f}{x}| $\deriv{\dif}{f}{x}$
  \item \verb|\deriv{\dif}{f(x)}{x}| $\deriv{\dif}{f(x)}{x}$
  \item \verb|\deriv{\dif}{f}{x,y}| $\deriv{\dif}{f}{x,y}$
  \item \verb|\deriv{\dif}{}{x^2}| $\deriv{\dif}{}{x^2}$
  \item \verb|\deriv{\dif}{f}{x^2}| $\deriv{\dif}{f}{x^2}$
  \item \verb|\deriv{\dif}{}[3]{x^2}| $\deriv{\dif}{}[3]{x^2}$
  \item \verb|\deriv{\dif}{}[3]{x^2,y}| $\deriv{\dif}{}[3]{x^2,y}$
  \item $\deriv[\parenthesize]{\dif}{}{x}$
\end{itemize}
\fi

\subsection{Integrals and differential forms}
\verb|\dif|, \verb|Dif| \verb|\del| and \verb|var| automatically provide correct spacing.
In case they don't, use the starred version to disable the spacing. Also, if no argument is given,
no spacing will applied.
\begin{itemize}
  \item \verb|\dif[3]{x} \dif[3] x \dif^3 x| \begin{displaymath} \dif[3]{x} \quad \dif[3] x \quad \dif^3 x \end{displaymath}
  \item \verb|\dif \Dif \del \var| \begin{displaymath} \dif \quad \Dif \quad \del \quad \var \end{displaymath}
  \item \verb|\int\dif{x} x^2 \int x^2 \dif{x}| \begin{displaymath} \int\dif{x} x^2 \qquad \int x^2 \dif{x} \end{displaymath}
  \item
    \verb|\MathStyle{integrate/displayfunc=outset} \Int{x^2}{x} \qquad| \\
    \verb|\MathStyle{integrate/displayfunc=inset} \Int{x^2}{x}|
    \begin{displaymath}
      \MathStyle{integrate/displayfunc=outset} \Int{x^2}{x} \qquad
      \MathStyle{integrate/displayfunc=inset} \Int{x^2}{x}
    \end{displaymath}
  \item
    \verb|\Int[outset]{x^2}{x} \qquad| \\
    \verb|\Int[inset]{x^2}{x}|
    \begin{displaymath}
      \Int[outset]{x^2}{x} \qquad
      \Int[inset]{x^2}{x}
    \end{displaymath}
  \item \verb|\MathStyle{integrate/displayfunc=outset}| \\ \verb|\var S = \Int{t}{\Int{\vc r^3}{\vc{r}} \lagr(t, \vc{r}, \dvc{r})} |
  \begin{displaymath} 
    \MathStyle{integrate/displayfunc=outset}
    \var S = \Int{t}{\Int{\vc r^3}{\vc{r}} \lagr(t, \vc{r}, \dot{\vc{r}})}
  \end{displaymath}
  \item \verb|\int \dif(\cos\theta) x^2 \int x^2 \dif(\cos\theta)| \begin{displaymath} \int \dif(\cos\theta) x^2 \qquad \int f(\theta) \dif(\cos\theta) \end{displaymath}
  \item \verb|\dif{f} = \pderiv{f}{x} \dif{x} + \pderiv{f}{y} \dif y| (note the incorrect spacing of $\dif y$) \begin{displaymath} \dif{f} = \pderiv{f}{x} \dif{x} + \pderiv{f}{y} \dif y \end{displaymath}
\end{itemize}

\begin{gather*}
  \MathStyle{integrate/displayfunc=inset}
  \Int{x^3,-\infty,\infty}{f(x)}
  \qquad
  \Int(\cos t,-\infty,\infty){f(t)} \\
  \MathStyle{integrate/displayfunc=outset}
  \Int{x^3,-\infty,\infty}{f(x)}
  \qquad
  \Int(\cos t,-\infty,\infty){f(t)} \\
\end{gather*}


\subsection{Symbols}

\subsection{Big operators}
These all support the same syntax
\begin{itemize}
  \item \Example|\Prod{a_i}|
  \item \Example|\Prod{a_i}|
  \item \Example|\Prod[i, 1, N]{a_i}|
  \item \Example|\Sum[i, 1, N]{a_i}|
  \item \Example|\Sum[i \in I]{a_i}|
  \item \Example|{(ABC)}_{ij} = \Prod[{k,l}, 1, N]{a_{ik} b_{kl} c_{lj}}|
  \item \Example|X = \Coprod[j \in J]{X_j}|
  \item \Example|X = \TensorProd[j \in J]{X_j}|
  \item \Example|X = \Union[j \in J]{X_j}|
  \item \Example|X = \Intersection[j \in J]{X_j}|
\end{itemize}

\subsubsection{Sets}

\begin{itemize}
	\item \verb|\setminus| \quad $A \setminus B$
	\item \verb|\emptyset| \quad $\emptyset$
	\item \verb|\subset| \quad $A \subset B$
	\item \verb|\supset| \quad $A \supset B$
	\item \verb|\subseteq| \quad $A \subseteq B$
	\item \verb|\cap| \quad $A \cap B$
	\item \verb|\cup| \quad $A \cup B$
	\item \verb|\bigcap\limits_{i \in I}| \quad $\bigcap\limits_{i \in I} A_i$
	\item \verb|\in| \quad $A \in B$
\end{itemize}


\subsubsection{Logic}

\begin{itemize}
	\item \verb|\exists| \quad $\exists$
	\item \verb|\iff| \quad $\iff$
	\item \verb|\forall| \quad $\forall$
	\item \verb|\implies| \quad $\implies$
	\item \verb|\neg| \quad $A \implies \neg B$
\end{itemize}

\subsubsection{Arrows}
%math arrows


\subsubsection{Limits etc.}

\begin{itemize}
	\item \verb|\inf| $\inf$
	\item \verb|\sup| $\sup$
	\item \verb|n \to \infty| $n \to \infty$
%\sup
%\to
\end{itemize}


\subsection{Stacked relations and braces}
%\stackrel
%\underbrace
%\overset


\subsection{Cases}
\begin{itemize}
  \item \verb|h(x) = \begin{cases}f(x) & \qif* x < 0 \\ g(x) & \qif* x \ge 0 \end{cases}| \begin{displaymath} h(x) = \begin{cases}f(x) & \qif* x < 0 \\ g(x) & \qif* x \ge 0 \end{cases} \end{displaymath}
\end{itemize}


\subsection{Math fonts}


\subsection{Text in math}
% \text isn't plain latex but an ams addition
% better than \textrm as it gets the font right
% better than \textnormal as it gets the size right (e.g. for subscripts)(Is this true?)
% subscripts that aren't variables should be upright and correctly spaced (i.e. not \mathrm): which do get this right?
% ams \textup ?
%\text
%\textrm
% See http://stefaanlippens.net/textnormal
%\textnormal % prefer over \textrm, as the latter always uses a roman font, which in most cases, but not always is correct

\subsection{math environments incl. IEEE}


\section{Labels and references}

\section{Physics}

\subsection{General symbols}

\begin{description}
	\item[Lagrangian] \verb|\lagr| \quad $\lagr$
	\item[Hamiltonian] \verb|\hmlt| \quad $\hmlt$
\end{description}


\subsection{Quantum mechanics: general}

\begin{description}
	\item[Commutator] \verb|\comm| \quad $\comm{A}{B}$
	\item[Pauli matrices] \verb|\paulim[xyz]| \quad $\paulimx \quad \paulimy \quad \paulimz$
\end{description}


\subsection{Number formatting}
Use \verb|siunitx|, see there.

\subsection{Isotopes}
Use the \verb|isotope| package.

\subsection{Dirac Notation}
From the \verb|braket| package.
\begin{table}[H]
  \centering
  \begin{tabular}{rll}
    \toprule
    bra & \verb|\bra{\varphi}| & \quad $\bra{\varphi}$ \\
    ket & \verb|\ket{\psi}| & \quad $\ket{\psi}$ \\
    scalar product & \verb+\braket{\varphi | psi}+ & \quad $\braket{\varphi | \psi}$ \\
    matrix element & \verb+\braket{\varphi | \hmlt | \psi}+ & \quad $\braket{\varphi | \hmlt | \psi}$ \\
    expectation value & \verb+\braket{\hmlt}+ & \quad $\braket{\hmlt}$ \\
    \bottomrule
  \end{tabular}
\end{table}

\section{Tables}

% TODO: booktabs

\begin{sidewaystable}
	\centering
	\begin{tabular}{rcl}
		%\hline
		%\multirow{n}
	\end{tabular}
\end{sidewaystable}

\section{Code}

\begin{itemize}
	\item \verb|\inputminted{file.py}|

  \item Keep all whitespace from the source file \begin{verbatim}
    \begin{minted}{python}
      i = False if a == "foo" else "bar"
      for k in range(10):
        print(k)
    \end{minted}
    \end{verbatim}
    \begin{minted}{python}
      i = False if a == "foo" else "bar"
      for k in range(10):
        print(k)
    \end{minted}

  \item Remove additional whitespace \begin{verbatim}
    \begin{minted}[autogobble]{python}
      i = False if a == "foo" else "bar"
      for k in range(10):
        print(k)
    \end{minted}
    \end{verbatim}
    \begin{minted}[autogobble]{python}
      i = False if a == "foo" else "bar"
      for k in range(10):
        print(k)
    \end{minted}

  \item \verb+\mint{python}|import this|+ \mint{python}|import this|

  \item \verb+\mintinline{python}|import this|+ \quad \mintinline{python}|import this|
\end{itemize}

\paragraph{Styles} Pygments comes with a number of built-in styles that can
be used with \verb|\usemintedstyle[language]{style}|.
\begin{sidewaystable}
  \begin{tabular}{ll}
    \toprule
      default & \usemintedstyle{default} \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      emacs & \usemintedstyle{emacs}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      friendly & \usemintedstyle{friendly}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      colorful & \usemintedstyle{colorful}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      autumn & \usemintedstyle{autumn}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      murphy & \usemintedstyle{murphy}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      manni & \usemintedstyle{manni}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      monokai & \usemintedstyle{monokai}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      perldoc & \usemintedstyle{perldoc}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      pastie & \usemintedstyle{pastie}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      borland & \usemintedstyle{borland}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      trac & \usemintedstyle{trac}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      native & \usemintedstyle{native}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      fruity & \usemintedstyle{fruity}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      bw & \usemintedstyle{bw}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      vim & \usemintedstyle{vim}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      vs & \usemintedstyle{vs}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      tango & \usemintedstyle{tango}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      rrt & \usemintedstyle{rrt}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      xcode & \usemintedstyle{xcode}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      igor & \usemintedstyle{igor}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      paraiso-light & \usemintedstyle{paraiso-light}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      paraiso-dark & \usemintedstyle{paraiso-dark}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      lovelace & \usemintedstyle{lovelace}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      algol & \usemintedstyle{algol}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      algol\_nu & \usemintedstyle{algol_nu}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      arduino & \usemintedstyle{arduino}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      rainbow\_dash & \usemintedstyle{rainbow_dash}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
      abap & \usemintedstyle{abap}  \mintinline{python}|a = [v for i, (k, v) in enumerate(d) if k in selection]  # Whatever.| \\
    \bottomrule
  \end{tabular}
\end{sidewaystable}

%\paragraph 
%\begin{shortpycode}
%  # ...
%\end{shortpycode}
%\begin{shortpycode*}
%  # ...
%\end{shortpycode*}
%\mintinline{python}{# ...}

\section{Scratch space}

\end{document}



%==============================================================================

%\clearpage

%\noindent

%\begin{flushleft}\end{flushleft}
%\begin{enumerate}\end{enumerate}
%\begin{enumerate}[label=...]\end{enumerate}
%\begin{itemize}\end{itemize} % including inline!
%\begin{description}\end{description}
%labels on images, tables, \item, math, paragraph
%\pagebreak[4]
%\usepackage{marginnote}
%%\renewcommand{\thefootnote}{\fnsymbol{footnote}}
%\renewcommand*{\marginfont}{\footnotesize}
%\usepackage{mchem}
%tikz, cf. particle presentation
%images
%tikz-feynman
